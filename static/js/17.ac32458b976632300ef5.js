webpackJsonp([17],{"/CMl":function(t,e){},PhiG:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("mEuU"),o=r("XHIT");function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):
/*!
 * maptalks.markercluster v0.8.2
 * LICENSE : MIT
 * (c) 2016-2018 maptalks.org
 */
/*!
 * requires maptalks@>=0.26.3 
 */
function(t,e){for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var o=r[i],a=Object.getOwnPropertyDescriptor(e,o);a&&a.configurable&&void 0===t[o]&&Object.defineProperty(t,o,a)}}(t,e))}var l=function(t){function e(){return a(this,e),n(this,t.apply(this,arguments))}return s(e,t),e.fromJSON=function(t){if(!t||"ClusterLayer"!==t.type)return null;for(var r=new e(t.id,t.options),o=t.geometries,a=[],n=0;n<o.length;n++){var s=i.Geometry.fromJSON(o[n]);s&&a.push(s)}return r.addGeometry(a),r},e.prototype.addMarker=function(t){return this.addGeometry(t)},e.prototype.addGeometry=function(e){for(var r=0,o=e.length;r<=o;r++)if(!e[r]instanceof i.Marker)throw new Error("Only a point(Marker) can be added into a ClusterLayer");return t.prototype.addGeometry.apply(this,arguments)},e.prototype.onConfig=function(e){if(t.prototype.onConfig.call(this,e),e.maxClusterRadius||e.symbol||e.drawClusterText||e.textSymbol||e.maxClusterZoom){var r=this._getRenderer();r&&r.render()}return this},e.prototype.identify=function(e,r){var i=this.getMap(),o=this.options.maxClusterZoom;return o&&i&&i.getZoom()>o?t.prototype.identify.call(this,e,r):this._getRenderer()?this._getRenderer().identify(e,r):null},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.type="ClusterLayer",e},e.prototype.getClusters=function(){var t=this._getRenderer();return t&&t._currentClusters||[]},e}(i.VectorLayer);l.mergeOptions({maxClusterRadius:160,textSumProperty:null,symbol:null,drawClusterText:!0,textSymbol:null,animation:!0,animationDuration:450,maxClusterZoom:null,noClusterWithOneMarker:!0,forceRenderOnZooming:!0}),l.registerJSONType("ClusterLayer");var h={textFaceName:'"microsoft yahei"',textSize:16,textDx:0,textDy:0},c={markerType:"ellipse",markerFill:{property:"count",type:"interval",stops:[[0,"rgb(135, 196, 240)"],[9,"#1bbc9b"],[99,"rgb(216, 115, 149)"]]},markerFillOpacity:.7,markerLineOpacity:1,markerLineWidth:3,markerLineColor:"#fff",markerWidth:{property:"count",type:"interval",stops:[[0,40],[9,60],[99,80]]},markerHeight:{property:"count",type:"interval",stops:[[0,40],[9,60],[99,80]]}};l.registerRenderer("canvas",function(t){function e(r){a(this,e);var i=n(this,t.call(this,r));return i._animated=!0,i._refreshStyle(),i._clusterNeedRedraw=!0,i}return s(e,t),e.prototype.checkResources=function(){var e=this.layer.options.symbol||c,r=t.prototype.checkResources.apply(this,arguments);if(e!==this._symbolResourceChecked){var o=i.Util.getExternalResources(e,!0);o&&r.push.apply(r,o),this._symbolResourceChecked=e}return r},e.prototype.draw=function(){this.canvas||this.prepareCanvas();var e=this.getMap().getZoom(),r=this.layer.options.maxClusterZoom;if(r&&e>r)return delete this._currentClusters,this._markersToDraw=this.layer._geoList,void t.prototype.draw.apply(this,arguments);this._clusterNeedRedraw&&(this._clearDataCache(),this._computeGrid(),this._clusterNeedRedraw=!1);var i=this._clusterCache[e]?this._clusterCache[e].clusters:null,o=this._getClustersToDraw(i);o.zoom=e,this._drawLayer(o)},e.prototype._getClustersToDraw=function(t){this._markersToDraw=[];var e=this.getMap(),r=i.StringUtil.getFont(this._textSymbol),o=i.StringUtil.stringLength("9",r).toPoint(),a=e.getContainerExtent(),n=[],s=void 0,l=void 0,h=void 0,c=void 0,u=void 0;for(var p in t)if(this._currentGrid=t[p],1===t[p].count&&this.layer.options.noClusterWithOneMarker){var d=t[p].children[0];d._cluster=t[p],this._markersToDraw.push(d)}else if(c=(h=this._getSprite()).canvas.width,u=h.canvas.height,s=e._prjToContainerPoint(t[p].center),l=new i.PointExtent(s.sub(c,u),s.add(c,u)),a.intersects(l)){if(!t[p].textSize){var y=this._getClusterText(t[p]);t[p].textSize=new i.Point(o.x*y.length,o.y)._multi(.5)}n.push(t[p])}return n},e.prototype.drawOnInteracting=function(){this._currentClusters&&this._drawClusters(this._currentClusters,1),t.prototype.drawOnInteracting.apply(this,arguments)},e.prototype.forEachGeo=function(t,e){this._markersToDraw&&this._markersToDraw.forEach(function(r){e?t.call(e,r):t(r)})},e.prototype.onGeometryAdd=function(){this._clusterNeedRedraw=!0,t.prototype.onGeometryAdd.apply(this,arguments)},e.prototype.onGeometryRemove=function(){this._clusterNeedRedraw=!0,t.prototype.onGeometryRemove.apply(this,arguments)},e.prototype.onGeometryPositionChange=function(){this._clusterNeedRedraw=!0,t.prototype.onGeometryPositionChange.apply(this,arguments)},e.prototype.onRemove=function(){this._clearDataCache()},e.prototype.identify=function(e,r){var i=this.getMap(),o=this.layer.options.maxClusterZoom;if(o&&i.getZoom()>o)return t.prototype.identify.call(this,e,r);if(this._currentClusters){for(var a=i.coordinateToContainerPoint(e),n=this._currentGrid,s=0;s<this._currentClusters.length;s++){var l=this._currentClusters[s],h=i._prjToContainerPoint(l.center);this._currentGrid=l;var c=this._getSprite().canvas.width;if(a.distanceTo(h)<=c)return{center:i.getProjection().unproject(l.center.copy()),children:l.children.slice(0)}}this._currentGrid=n}return this._markersToDraw?this.layer._hitGeos(this._markersToDraw,e,r):null},e.prototype.onSymbolChanged=function(){this._refreshStyle(),this._computeGrid(),this._stopAnim(),this.setToRedraw()},e.prototype._refreshStyle=function(){var t=this,e=this.layer.options.symbol||c,r=this.layer.options.textSymbol||h,o=function(){return[t.getMap().getZoom(),t._currentGrid]};this._symbol=i.MapboxUtil.loadFunctionTypes(e,o),this._textSymbol=i.MapboxUtil.loadFunctionTypes(r,o)},e.prototype._drawLayer=function(t){var e=this,r=this._currentClusters||t;this._currentClusters=t,delete this._clusterMaskExtent;var o=this.layer;if(o.options.animation&&this._animated&&this._inout){var a=[0,1];"in"===this._inout&&(a=[1,0]),this._player=i.animation.Animation.animate({d:a},{speed:o.options.animationDuration,easing:"inAndOut"},function(i){"finished"===i.state.playState?(e._animated=!1,e._drawClusters(t,1),e._drawMarkers(),e.completeRender()):("in"===e._inout?e._drawClustersFrame(t,r,i.styles.d):e._drawClustersFrame(r,t,i.styles.d),e.setCanvasUpdated())}).play()}else this._animated=!1,this._drawClusters(t,1),this._drawMarkers(),this.completeRender()},e.prototype._drawMarkers=function(){t.prototype.drawGeos.call(this,this._clusterMaskExtent)},e.prototype._drawClustersFrame=function(t,e,r){var i=this;this._clusterMaskExtent=this.prepareCanvas();var o=this.getMap(),a={};if(t&&t.forEach(function(t){var e=o._prjToContainerPoint(t.center);a[t.key]||(a[t.key]=1,i._drawCluster(e,t,1-r))}),0!==r&&e){var n=t.zoom,s=o._getResolution(n)*this.layer.options.maxClusterRadius,l=this._markerExtent.getMin();e.forEach(function(t){var e=o._prjToContainerPoint(t.center),a=t.center,h=Math.floor((a.x-l.x)/s)+"_"+Math.floor((a.y-l.y)/s),c=i._clusterCache[n].clusterMap[h];if(c){var u=o._prjToContainerPoint(c.center);e=u.add(e.sub(u)._multi(r))}i._drawCluster(e,t,r>.5?1:r)})}},e.prototype._drawClusters=function(t,e){var r=this;if(t){this._clusterMaskExtent=this.prepareCanvas();var i=this.getMap();t.forEach(function(t){var o=i._prjToContainerPoint(t.center);r._drawCluster(o,t,e>.5?1:e)})}},e.prototype._drawCluster=function(t,e,r){this._currentGrid=e;var o=this.context,a=this._getSprite(),n=o.globalAlpha;if(n*r!=0){if(o.globalAlpha=n*r,a){var s=t.add(a.offset)._sub(a.canvas.width/2,a.canvas.height/2);o.drawImage(a.canvas,s.x,s.y)}if(this.layer.options.drawClusterText&&e.textSize){i.Canvas.prepareCanvasFont(o,this._textSymbol);var l=this._textSymbol.textDx||0,h=this._textSymbol.textDy||0,c=this._getClusterText(e);i.Canvas.fillText(o,c,t.sub(e.textSize).add(l,h))}o.globalAlpha=n}},e.prototype._getClusterText=function(t){return(this.layer.options.textSumProperty?t.textSumProperty:t.count)+""},e.prototype._getSprite=function(){this._spriteCache||(this._spriteCache={});var t=i.Util.getSymbolStamp(this._symbol);return this._spriteCache[t]||(this._spriteCache[t]=new i.Marker([0,0],{symbol:this._symbol})._getSprite(this.resources,this.getMap().CanvasClass)),this._spriteCache[t]},e.prototype._initGridSystem=function(){var t=[],e=void 0,r=void 0;this.layer.forEach(function(i){r=i._getPrjCoordinates(),e=e?e._combine(i._getPrjExtent()):i._getPrjExtent(),t.push({x:r.x,y:r.y,id:i._getInternalId(),geometry:i})}),this._markerExtent=e,this._markerPoints=t},e.prototype._computeGrid=function(){var t=this.getMap(),e=t.getZoom();this._markerExtent||this._initGridSystem(),this._clusterCache||(this._clusterCache={});var r=t._getResolution(t.getMinZoom())>t._getResolution(t.getMaxZoom())?e-1:e+1;this._clusterCache[r]&&this._clusterCache[r].length===this.layer.getCount()&&(this._clusterCache[e]=this._clusterCache[r]),this._clusterCache[e]||(this._clusterCache[e]=this._computeZoomGrid(e))},e.prototype._computeZoomGrid=function(t){if(!this._markerExtent)return null;var e=this.getMap(),r=e._getResolution(t)*this.layer.options.maxClusterRadius,o=e._getResolution(t-1)?e._getResolution(t-1)*this.layer.options.maxClusterRadius:null,a=this._clusterCache[t-1];!a&&t-1>=e.getMinZoom()&&(this._clusterCache[t-1]=a=this._computeZoomGrid(t-1));for(var n=this._markerPoints,s=this.layer.options.textSumProperty,l={},h=this._markerExtent.getMin(),c=void 0,u=void 0,p=0,d=n.length;p<d;p++){var y=n[p].geometry,m=0;s&&y.getProperties()&&y.getProperties()[s]&&(m=y.getProperties()[s]),l[c=Math.floor((n[p].x-h.x)/r)+"_"+Math.floor((n[p].y-h.y)/r)]?(l[c].sum._add(new i.Coordinate(n[p].x,n[p].y)),l[c].count++,l[c].center=l[c].sum.multi(1/l[c].count),l[c].children.push(y),l[c].textSumProperty+=m):(l[c]={sum:new i.Coordinate(n[p].x,n[p].y),center:new i.Coordinate(n[p].x,n[p].y),count:1,textSumProperty:m,children:[y],key:c+""},o&&a&&(u=Math.floor((n[p].x-h.x)/o)+"_"+Math.floor((n[p].y-h.y)/o),l[c].parent=a.clusterMap[u]))}return this._mergeClusters(l,r/2)},e.prototype._mergeClusters=function(t,e){var r={};for(var i in t)r[i]=t[i];var o={},a={},n=void 0,s=void 0;for(var l in t)if(!a[(n=t[l]).key])for(var h=n.key.split("_"),c=+h[0],u=+h[1],p=-1;p<=1;p++)for(var d=-1;d<=1;d++){if(0!==p||0!==d)(s=t[c+p+"_"+(u+d)])&&this._distanceTo(n.center,s.center)<=e&&(o[n.key]||(o[n.key]=[]),o[n.key].push(s),a[s.key]=1)}for(var y in o){var m=t[y];if(m){for(var f=o[y],_=0;_<f.length;_++)t[f[_].key]&&(m.sum._add(f[_].sum),m.count+=f[_].count,m.textSumProperty+=f[_].textSumProperty,m.children=m.children.concat(f[_].children),r[f[_].key]=m,delete t[f[_].key]);m.center=m.sum.multi(1/m.count)}}return{clusters:t,clusterMap:r}},e.prototype._distanceTo=function(t,e){var r=t.x-e.x,i=t.y-e.y;return Math.sqrt(r*r+i*i)},e.prototype._stopAnim=function(){this._player&&"finished"!==this._player.playState&&this._player.finish()},e.prototype.onZoomStart=function(e){this._stopAnim(),t.prototype.onZoomStart.call(this,e)},e.prototype.onZoomEnd=function(e){!this.layer.isEmpty()&&this.layer.isVisible()?(this._inout=e.from>e.to?"in":"out",this._animated=!0,this._computeGrid(),t.prototype.onZoomEnd.apply(this,arguments)):t.prototype.onZoomEnd.apply(this,arguments)},e.prototype._clearDataCache=function(){this._stopAnim(),delete this._markerExtent,delete this._markerPoints,delete this._clusterCache,delete this._zoomInClusters},e}(i.renderer.VectorLayerCanvasRenderer)),"undefined"!=typeof console&&console.log("maptalks.markercluster v0.8.2, requires maptalks@>=0.26.3.");var u=
/*!
 * maptalks.heatmap v0.5.4
 * LICENSE : MIT
 * (c) 2016-2017 maptalks.org
 */
/*!
 * requires maptalks@^0.25.0 
 */
function(t,e){return t(e={exports:{}},e.exports),e.exports}(function(t){function e(t){if(!(this instanceof e))return new e(t);this._canvas=t="string"==typeof t?document.getElementById(t):t,this._ctx=t.getContext("2d"),this._width=t.width,this._height=t.height,this._max=1,this._data=[]}t.exports=e,e.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(t){return this._data=t,this},max:function(t){return this._max=t,this},add:function(t){return this._data.push(t),this},clear:function(){return this._data=[],this},radius:function(t,e){e=void 0===e?15:e;var r=this._circle=this._createCanvas(),i=r.getContext("2d"),o=this._r=t+e;return r.width=r.height=2*o,i.shadowOffsetX=i.shadowOffsetY=2*o,i.shadowBlur=e,i.shadowColor="black",i.beginPath(),i.arc(-o,-o,t,0,2*Math.PI,!0),i.closePath(),i.fill(),this},resize:function(){this._width=this._canvas.width,this._height=this._canvas.height},gradient:function(t){var e=this._createCanvas(),r=e.getContext("2d"),i=r.createLinearGradient(0,0,0,256);for(var o in e.width=1,e.height=256,t)i.addColorStop(+o,t[o]);return r.fillStyle=i,r.fillRect(0,0,1,256),this._grad=r.getImageData(0,0,1,256).data,this},draw:function(t){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var e=this._ctx;e.clearRect(0,0,this._width,this._height);for(var r,i=0,o=this._data.length;i<o;i++)r=this._data[i],e.globalAlpha=Math.max(r[2]/this._max,void 0===t?.05:t),e.drawImage(this._circle,r[0]-this._r,r[1]-this._r);var a=e.getImageData(0,0,this._width,this._height);return this._colorize(a.data,this._grad),e.putImageData(a,0,0),this},_colorize:function(t,e){for(var r,i=0,o=t.length;i<o;i+=4)(r=4*t[i+3])&&(t[i]=e[r],t[i+1]=e[r+1],t[i+2]=e[r+2])},_createCanvas:function(){return"undefined"!=typeof document?document.createElement("canvas"):new this._canvas.constructor}}});function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var o=r[i],a=Object.getOwnPropertyDescriptor(e,o);a&&a.configurable&&void 0===t[o]&&Object.defineProperty(t,o,a)}}(t,e))}var m={max:1,gradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},radius:25,blur:15,minOpacity:.05},f=function(t){function e(r,i,o){p(this,e),Array.isArray(i)||(o=i,i=null);var a=d(this,t.call(this,r,o));return a._heats=i||[],a}return y(e,t),e.prototype.getData=function(){return this._heats},e.prototype.setData=function(t){return this._heats=t||[],this.redraw()},e.prototype.addPoint=function(t){return t?(t[0]&&Array.isArray(t[0])?i.Util.pushIn(this._heats,t):this._heats.push(t),this.redraw()):this},e.prototype.onConfig=function(t){for(var e in t)if(m[e])return this.redraw();return this},e.prototype.redraw=function(){var t=this._getRenderer();return t&&(t.clearHeatCache(),t.setToRedraw()),this},e.prototype.isEmpty=function(){return!this._heats.length},e.prototype.clear=function(){return this._heats=[],this.redraw(),this.fire("clear"),this},e.prototype.toJSON=function(t){t||(t={});var e={type:this.getJSONType(),id:this.getId(),options:this.config()},r=this.getData();if(t.clipExtent){var o=new i.Extent(t.clipExtent),a=this._getHeatRadius();a&&(o=o._expand(a));for(var n=[],s=0,l=r.length;s<l;s++)o.contains(new i.Coordinate(r[s][0],r[s][1]))&&n.push(r[s]);e.data=n}else e.data=r;return e},e.fromJSON=function(t){return t&&"HeatLayer"===t.type?new e(t.id,t.data,t.options):null},e.prototype._getHeatRadius=function(){return this._getRenderer()?this._getRenderer()._heatRadius:null},e}(i.Layer);f.mergeOptions(m),f.registerJSONType("HeatLayer"),f.registerRenderer("canvas",function(t){function e(){return p(this,e),d(this,t.apply(this,arguments))}return y(e,t),e.prototype.draw=function(){var t=this.getMap(),e=this.layer,r=t.getContainerExtent(),i=this.prepareCanvas(),o=r;if(i){if(!(i=i.convertTo(function(e){return t._pointToContainerPoint(e)})).intersects(r))return void this.completeRender();o=r.intersection(i)}this._heater||(this._heater=u(this.canvas)),this._heater.radius(e.options.radius||this._heater.defaultRadius,e.options.blur),e.options.gradient&&this._heater.gradient(e.options.gradient),this._heater.max(e.options.max),this._heatViews||(this._heatViews=[]);var a=e.getData();if(0!==a.length){var n=this._heatData(a,o);this._heater.data(n).draw(e.options.minOpacity),this.completeRender()}else this.completeRender()},e.prototype.drawOnInteracting=function(){this.draw()},e.prototype._heatData=function(t,e){var r=this.getMap(),o=this.layer,a=r.getProjection(),n=[],s=this._heater._r,l=void 0===o.options.max?1:o.options.max,h=i.Util.isNil(o.options.maxZoom)?r.getMaxZoom():o.options.maxZoom,c=1/Math.pow(2,Math.max(0,Math.min(h-r.getZoom(),12))),u=s/2,p=[],d=r.offsetPlatform(),y=d.x%u,m=d.y%u,f=void 0,_=void 0,g=void 0,v=void 0,C=void 0,x=void 0;e=e.expand(s).convertTo(function(t){return new i.Point(r._containerPointToPrj(t))}),this._heatRadius=s;for(var b=0,k=t.length;b<k;b++)f=t[b],this._heatViews[b]||(this._heatViews[b]=a.project(new i.Coordinate(f[0],f[1]))),_=this._heatViews[b],e.contains(_)&&(_=r._prjToContainerPoint(_),v=Math.floor((_.x-y)/u)+2,C=Math.floor((_.y-m)/u)+2,x=(void 0!==f.alt?f.alt:void 0!==f[2]?+f[2]:1)*c,p[C]=p[C]||[],(g=p[C][v])?(g[0]=(g[0]*g[2]+_.x*x)/(g[2]+x),g[1]=(g[1]*g[2]+_.y*x)/(g[2]+x),g[2]+=x):p[C][v]=[_.x,_.y,x]);for(var w=0,L=p.length;w<L;w++)if(p[w])for(var T=0,M=p[w].length;T<M;T++)(g=p[w][T])&&n.push([Math.round(g[0]),Math.round(g[1]),Math.min(g[2],l)]);return n},e.prototype.onZoomEnd=function(){delete this._heatViews,t.prototype.onZoomEnd.apply(this,arguments)},e.prototype.onResize=function(){this.canvas&&(this._heater._width=this.canvas.width,this._heater._height=this.canvas.height),t.prototype.onResize.apply(this,arguments)},e.prototype.onRemove=function(){this.clearHeatCache(),delete this._heater},e.prototype.clearHeatCache=function(){delete this._heatViews},e}(i.renderer.CanvasRenderer)),"undefined"!=typeof console&&console.log("maptalks.heatmap v0.5.4, requires maptalks@^0.25.0.");var _={data:function(){return{name:"map",map:null,markerVectorLayer:null,clusterLayer:null,heatLayer:null,distanceTool:null,areaTool:null,addressPoints:[[-37.6433062833,175.2721598,"3"],[-37.8129763667,175.2714296333,"10"],[-37.71369515,175.2414571167,"11"],[-37.81322845,175.2815556,"12"],[-37.8137875333,175.2712745333,"13"],[-37.8433246833,175.57138025,"14"],[-37.8140672667,175.2712932667,"15"],[-37.8131234,175.2811189833,"16"],[-37.7507629167,175.2502213833,"34"],[-37.7305923333,175.2499560667,"35"],[-37.5508608333,175.3500617167,"36"],[-37.6506927833,175.2898010667,"37"],[-37.7509818,175.2499128333,"38"]]}},methods:{initMap:function(){this.map=new i.Map("map",{center:[175,-37.898568],zoom:8,baseLayer:new i.TileLayer("base",{urlTemplate:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",subdomains:["a","b","c"],attribution:'&copy; <a href="http://www.osm.org" target="_blank">OpenStreetMap</a> contributors'})})},updateLayer:function(t){switch(this.removeAllLayer(),t){case 1:this.addMarker();break;case 2:this.addclusterLayer();break;case 3:this.addHeatLayer()}},removeAllLayer:function(){null!=this.clusterLayer&&this.map.removeLayer(this.clusterLayer),null!=this.markerVectorLayer&&(this.map.removeLayer(this.markerVectorLayer),this.markerVectorLayer=null),null!=this.heatLayer&&(this.map.removeLayer(this.heatLayer),this.heatLayer=null),null!=this.distanceTool&&this.distanceTool.clear()},addMarker:function(){null==this.markerVectorLayer&&(this.markerVectorLayer=new i.VectorLayer("makerVector"),this.markerVectorLayer.addTo(this.map));var t=new i.Marker([175,-37.898568],{visible:!0,editable:!0,cursor:"pointer",shadowBlur:0,shadowColor:"black",draggable:!1,dragShadow:!1,drawOnAxis:null});this.markerVectorLayer.addGeometry(t)},addclusterLayer:function(){for(var t=this,e=new i.VectorLayer("vc").addTo(t.map),r=[],a=0;a<this.addressPoints.length;a++){var n=this.addressPoints[a],s=new i.Marker([n[1],n[0]]),h={title:"信息框",content:n[2]};s.attributes="ooouang";new i.ui.InfoWindow(h);r.push(s)}null==this.clusterLayer&&(this.clusterLayer=new l("cluster",r,{noClusterWithOneMarker:!1,maxClusterZoom:18,symbol:{markerType:"ellipse",markerFill:{property:"count",type:"interval",stops:[[0,"rgb(135, 196, 240)"],[9,"#1bbc9b"],[99,"#f54e24"]]},markerFillOpacity:.7,markerLineOpacity:1,markerLineWidth:3,markerLineColor:"#fff",markerWidth:{property:"count",type:"interval",stops:[[0,40],[9,60],[99,80]]},markerHeight:{property:"count",type:"interval",stops:[[0,40],[9,60],[99,80]]}},drawClusterText:!0,geometryEvents:!0,single:!0})),this.map.addLayer(this.clusterLayer),t.map.on("zoomend",function(){e.clear()}),t.map.on("click",function(r){e.clear();var a=t.clusterLayer.identify(r.coordinate),n=[];if(void 0!=a.children&&a.children.length>2){a.children.forEach(function(t){var e=t.getCoordinates();a.children.length,n.push({type:"Feature",properties:{},geometry:{type:"Point",coordinates:[e.x,e.y]}})});var s={type:"FeatureCollection",features:n},l=o.convex(s);console.log(l);new i.Polygon(l.geometry.coordinates,{symbol:{polygonFill:"#f984e1",polygonOpacity:.6,lineColor:"#11ffbc"}}).addTo(e)}})},addHeatLayer:function(){var t=this.addressPoints.map(function(t){return[t[1],t[0]]});null==this.heatLayer&&(this.heatLayer=new f("heat",t,{forceRenderOnRotating:!0,forceRenderOnMoving:!0,minOpacity:.5,radius:20,blur:15,gradient:{.4:"blue",.65:"lime",1:"red"}}),this.map.addLayer(this.heatLayer))},clearlayer:function(){this.removeAllLayer()},distance:function(){this.distanceTool=new i.DistanceTool({symbol:{lineColor:"#34495e",lineWidth:2},vertexSymbol:{markerType:"ellipse",markerFill:"#1bbc9b",markerLineColor:"#000",markerLineWidth:3,markerWidth:10,markerHeight:10},labelOptions:{textSymbol:{textFaceName:"monospace",textFill:"#fff",textLineSpacing:1,textHorizontalAlignment:"right",textDx:15,markerLineColor:"#b4b3b3",markerFill:"#000"},boxStyle:{padding:[6,2],symbol:{markerType:"square",markerFill:"#000",markerFillOpacity:.9,markerLineColor:"#b4b3b3"}}},clearButtonSymbol:[{markerType:"square",markerFill:"#000",markerLineColor:"#b4b3b3",markerLineWidth:2,markerWidth:15,markerHeight:15,markerDx:20},{markerType:"x",markerWidth:10,markerHeight:10,markerLineColor:"#fff",markerDx:20}],language:"zh-CN"}).addTo(this.map)},area:function(){this.areaTool=new i.AreaTool({symbol:{lineColor:"#1bbc9b",lineWidth:2,polygonFill:"#fff",polygonOpacity:.3},vertexSymbol:{markerType:"ellipse",markerFill:"#34495e",markerLineColor:"#1bbc9b",markerLineWidth:3,markerWidth:10,markerHeight:10},labelOptions:{textSymbol:{textFaceName:"monospace",textFill:"#fff",textLineSpacing:1,textHorizontalAlignment:"right",textDx:15},boxStyle:{padding:[6,2],symbol:{markerType:"square",markerFill:"#000",markerFillOpacity:.9,markerLineColor:"#b4b3b3"}}},clearButtonSymbol:[{markerType:"square",markerFill:"#000",markerLineColor:"#b4b3b3",markerLineWidth:2,markerWidth:15,markerHeight:15,markerDx:22},{markerType:"x",markerWidth:10,markerHeight:10,markerLineColor:"#fff",markerDx:22}],language:"zh-CN"}).addTo(this.map)}},mounted:function(){this.initMap()}},g={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"container",attrs:{id:"map"}}),t._v(" "),r("button",{on:{click:function(e){t.updateLayer(1)}}},[t._v("添加点")]),t._v(" "),r("button",{on:{click:function(e){t.updateLayer(2)}}},[t._v("聚类")]),t._v(" "),r("button",{on:{click:function(e){t.updateLayer(3)}}},[t._v("热力图层")]),t._v(" "),r("button",{on:{click:function(e){t.clearlayer()}}},[t._v("清除")]),t._v(" "),r("button",{on:{click:function(e){t.distance()}}},[t._v("测距")]),t._v(" "),r("button",{on:{click:function(e){t.area()}}},[t._v("测面")])])},staticRenderFns:[]};var v=r("VU/8")(_,g,!1,function(t){r("/CMl")},null,null);e.default=v.exports}});
//# sourceMappingURL=17.ac32458b976632300ef5.js.map