{"version":3,"sources":["webpack:///src/views/map/maptalks/wfs.vue","webpack:///./node_modules/maptalks.esri/dist/maptalks.esri.js","webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///src/views/map/maptalks/components/mapinfowin.vue","webpack:///./src/views/map/maptalks/components/mapinfowin.vue?6b77","webpack:///./src/views/map/maptalks/components/mapinfowin.vue","webpack:///./node_modules/core-js/library/fn/json/stringify.js","webpack:///./src/views/map/maptalks/wfs.vue?2b43","webpack:///./src/views/map/maptalks/wfs.vue"],"names":["__webpack_exports__","initMap","__WEBPACK_IMPORTED_MODULE_2__components_mapinfowin__","this","urlTemplate","attribution","wfsService","FeatureLayer","addTo","map","geometries","e","url","option","filter","requestUrl","filterUrl","res","_createGeometries","data","features","lInfo","geometryType","type","forEach","feature","push","__WEBPACK_IMPORTED_MODULE_1_maptalks__","geometry","undefined","attributes","paths","symbol","i","_symbol1","target","polygonOpacity","oldopacity","currentopacity","newopacity","getSymbol","polygon","polygons","mapData","attri","options","geo","show","hide","isVisible","_infoWin","getCenter","Object","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","spatialRel","esriSpatialRelIntersects","p","global","exports","maptalks","isNative","cors","window","XMLHttpRequest","trimText","String","prototype","trim","input","apply","replace","cleanUrl","length","REACT_ELEMENT_TYPE","_typeof","Symbol","iterator","obj","constructor","jsx","for","props","key","children","defaultProps","childrenLength","arguments","propName","childArray","Array","$$typeof","ref","_owner","asyncGenerator","AwaitValue","value","AsyncGenerator","gen","front","back","resume","arg","result","Promise","resolve","then","settle","done","err","reject","next","_invoke","request","return","asyncIterator","throw","wrap","fn","await","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","_extends","assign","source","hasOwnProperty","call","inherits","subClass","superClass","create","setPrototypeOf","defaults","keys","getOwnPropertyNames","getOwnPropertyDescriptor","_defaults","possibleConstructorReturn","self","ReferenceError","selfGlobal","slicedToArray","arr","isArray","_arr","_n","_d","_e","_s","_i","sliceIterator","babelHelpers$1","freeze","iterable","method","asyncGeneratorDelegate","inner","awaitWrap","iter","waiting","pump","asyncToGenerator","step","info","error","defineEnumerableProperties","descs","desc","get","object","property","receiver","Function","parent","getPrototypeOf","getter","interopRequireDefault","__esModule","default","interopRequireWildcard","newObj","newArrowCheck","innerThis","boundThis","objectDestructuringEmpty","objectWithoutProperties","indexOf","set","setter","slicedToArrayLoose","_step","_iterator","taggedTemplateLiteral","strings","raw","taggedTemplateLiteralLoose","temporalRef","val","name","undef","temporalUndefined","toArray","from","toConsumableArray","arr2","typeof","extends","instanceof","left","right","hasInstance","merge","_babelHelpers","_len","sources","_key","concat","serializeParams","params","f","param","toString","JSON","stringify","join","valueOf","encodeURIComponent","commonjsGlobal","createCommonjsModule","module","zousanMin","t","n","y","o","r","c","s","console","splice","MutationObserver","document","createElement","observe","setAttribute","setImmediate","setTimeout","state","u","v","suppressUncaughtRejectionError","log","stack","l","a","catch","finally","timeout","Error","all","define","amd","Zousan","soon","Promise$1","_options$1","proxy","useCors","Service","_options","_url","_token","token","authenticate","path","toLowerCase","Ajax","resp","post","jsonp","Task","service","_service","_formatted","_params","_path","run","constructorName","boolean","IdentifyImageTask","_IdentifyTask","callback","context","response","_resolveResponse","location","catalogItems","catalogItemVisibilities","x","spatialReference","wkid","objectId","properties","Values","geoJSON","pixel","values","responseToFeatureCollection","catalogItemVisibility","_Task","IdentifyTask","endpoint","_this","between","start","end","_time","MetadataTask","ExportImageTask","ImageService","_Service","metadata","_metadataTask","GetSamples","CouputeClassStatistics","ComputeHistograms","exportImage","_exportImageTask","query","identify","delaunay","Delaunay","EPSILON","circumcircle","vertices","j","k","xc","yc","m1","m2","mx1","mx2","my1","my2","dx","dy","x1","y1","x2","y2","x3","y3","fabsy1y2","Math","abs","fabsy2y3","dedup","edges","b","m","triangulate","indices","st","open","closed","slice","sort","diff","dmax","xmid","ymid","xmin","Number","POSITIVE_INFINITY","ymin","xmax","NEGATIVE_INFINITY","ymax","max","supertriangle","contains","tri","d","renderer","Browser","webgl","updateInterval","format","transparent","ImageMapLayer","_maptalks$Layer","id","getEvents","zoomend","_reLoad","_this2","_buildExportParams","_cacheData","parse","_width","width","_height","height","_buildDelaunay","load","onLoad","cacheData","getMap","glZoom","getZoom","geoExtent","getExtent","getSize","bbox","extent","min","Coordinate","ptMin","coordinateToPoint","ptMax","w","floor","h","size","bboxSR","imageSR","random","triangles","_vertices","_triangles","Layer","ImageCanvasRenderer","_maptalks$renderer$Ca","onAdd","draw","prepareCanvas","_drawImage","_this4","imgObj","layer","nw","img","Image","onload","pt","_prjToContainerPoint","drawImage","completeRender","src","href","drawOnInteracting","hitDetect","onZoomEnd","onMoveEnd","onDragRotateEnd","CanvasRenderer","registerRenderer","_maptalks$renderer$Im","_class","that","getGLZoom","glScale","getGLScale","tin","len","crossOrigin","vtcs","txcoord","drawTinImage","onCanvasCreate","prepareGLCanvas","resizeCanvas","canvasSize","canvas","resizeGLCanvas","clearCanvas","clearGLCanvas","getCanvasImage","glCanvas","isCanvasUpdated","ctx","retina","save","scale","restore","onRemove","removeGLCanvas","ImageGLRenderable","QueryTask","FeaturesTask","FeatureService","_QueryParams","where","inSR","relationParam","objectIds","time","returnCountOnly","returnGeometry","maxAllowableOffset","outSR","text","outFields","_AddParams","gdbVersion","rollbackOnFailure","_UpdateParams","_deleteParams","_queryTask","addFeatures","_FeaturesTask","updateFeatures","deleteFeatures","_options$2","_maptalks$VectorLayer","geos","addGeometry","fire","_createPoint","_createLineString","_createPolygon","Marker","bind","lineColor","MultiLineString","Polygon","rings","VectorLayer","FeatureLayerRenderer","_maptalks$renderer$Ve","VectorLayerCanvasRenderer","BufferTask","esri","GeometryService","_BufferParams","bufferSR","distances","unit","unionResults","geodesic","buffer","_BufferTask","factory","__webpack_require__","components_mapinfowin","render","$createElement","_self","_c","_m","staticRenderFns","_vm","_h","staticClass","_v","Component","normalizeComponent","ssrContext","core","$JSON","it","maptalks_wfs","attrs","__vue_styles__","wfs"],"mappings":"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","file":"static/js/4.3377ef39ce5ce7c31eb7.js","sourcesContent":["<template>\n  <div class=\"map\" id=\"map\"></div>\n</template>\n\n<script>\nimport * as maptalks from \"maptalks\";\nimport mapinfowin from \"./components/mapinfowin\"\n\nexport default {\n  data() {\n    return {\n      map: null,\n      wfsLayer: null,\n      layer: null,\n      mapData: {\n        districtName: \"ouyangbo\"\n      }\n    };\n  },\n  mounted() {\n    this.initMap();\n    // this.addwfsLayer();\n    console.log(mapinfowin)\n  },\n  methods: {\n    initMap() {\n      var vm = this;\n      vm.$nextTick(function() {\n        $(\".close\").on(\"click\", function() {\n          alert(1);\n        });\n      });\n      vm.map = new maptalks.Map(\"map\", {\n        center: [111.32450763502036, 31.667512417065313],\n        zoom: 8,\n        baseLayer: new maptalks.TileLayer(\"base\", {\n          urlTemplate:\n            \"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png\",\n          subdomains: [\"a\", \"b\", \"c\", \"d\"],\n          attribution:\n            '&copy; <a href=\"http://osm.org\">OpenStreetMap</a> contributors, &copy; <a href=\"https://carto.com/\">CARTO</a>'\n        })\n      });\n\n      vm.wfsService(\n        \"http://120.77.215.143:6080/arcgis/rest/services/xiangyang/xiangyang/MapServer/0\",\n        {\n          //where: \"type = '八一泵站'\"  属性查询\n        }\n      );\n    },\n    //esri插件添加wfs服务\n    addwfsLayer() {\n      var vm = this;\n      var maptalks = require(\"maptalks.esri\");\n      vm.wfsLayer = new maptalks.esri.FeatureLayer(\n        \"wfsLayer\",\n        \"http://120.77.215.143:6080/arcgis/rest/services/xiangyang/xiangyang/MapServer/0\",\n        {\n          symbol: {\n            lineColor: \"#000000\",\n            lineWidth: 2,\n            lineDasharray: null, //线形\n            lineOpacity: 1,\n            polygonFill: \"#6394d5\",\n            polygonOpacity: 0.5\n          }\n        }\n      ).addTo(vm.map);\n      vm.wfsLayer.on(\"loadend\", function(e) {\n        var geometries = e.geometries;\n        console.log(e);\n      });\n    },\n    //自定义wfs服务。\n    wfsService(url, option) {\n      var vm = this;\n      vm.layer = new maptalks.VectorLayer(\"vector\").addTo(vm.map);\n      var _url = url;\n      var filter = vm._QueryParams(option);\n      var requestUrl = _url + filter;\n      $.ajax({\n        url: requestUrl,\n        async: true,\n        dataType: \"jsonp\",\n        success: function(e) {\n          var data = maptalks.Util.parseJSON(e);\n          var filterUrl = _url + \"?f=pjson\";\n          $.ajax({\n            url: filterUrl,\n            async: false,\n            dataType: \"jsonp\",\n            success: function(res) {\n              var lInfo = maptalks.Util.parseJSON(res);\n              // console.log(data);\n              // console.log(lInfo);\n              var geometries = vm._createGeometries(\n                data.features,\n                lInfo.geometryType\n              );\n              vm.addInfoWin(geometries);\n              vm.layer.addGeometry(geometries);\n            },\n            error: function(b) {}\n          });\n        },\n        err: function(a) {}\n      });\n    },\n    //根据wfs创建对应的geometrie\n    _createGeometries(features, type) {\n      let geometries = null;\n      if (!type) {\n        throw new Error(\"The layer's geometry type is unknown\");\n        return;\n      }\n      switch (type) {\n        case \"esriGeometryPoint\":\n          geometries = this._createPoint(features);\n          break;\n        case \"esriGeometryPolyline\":\n          geometries = this._createLineString(features);\n          break;\n        case \"esriGeometryPolygon\":\n          geometries = this._createPolygon(features);\n          break;\n        default:\n          break;\n      }\n      return geometries;\n    },\n    //创建点\n    _createPoint(features) {\n      const geometries = [];\n      const symbol = undefined;\n      features.forEach(\n        function(feature) {\n          geometries.push(\n            new maptalks.Marker(feature.geometry, {\n              symbol: symbol,\n              properties: feature.attributes\n            })\n          );\n        }.bind(this)\n      );\n      return geometries;\n    },\n    //创建线\n    _createLineString(features) {\n      const geometries = [];\n      const symbol = { lineColor: \"red\" };\n      features.forEach(\n        function(feature) {\n          geometries.push(\n            new maptalks.MultiLineString(feature.geometry.paths, {\n              symbol: symbol,\n              properties: feature.attributes\n            })\n          );\n        }.bind(this)\n      );\n      return geometries;\n    },\n    //创建面\n    _createPolygon(features) {\n      var vm = this;\n      //自定义样式\n      var _symbol1 = {\n        lineColor: \"#000000\",\n        lineWidth: 2,\n        lineDasharray: null, //线形\n        lineOpacity: 1,\n        polygonFill: \"#6394d5\",\n        polygonOpacity: 0.5\n      };\n      var polygons = [];\n      for (var i = 0, len = features.length; i < len; i++) {\n        var feature = features[i];\n        var polygon = new maptalks.Polygon(feature.geometry.rings, {\n          symbol: _symbol1\n        });\n        polygon.attributes = feature.attributes;\n        //鼠标在要素上移动时改变polygon透明度\n        var selected = true;\n        if (selected == true) {\n          var oldopacity = 0;\n          polygon.on(\"mouseover\", function(g) {\n            var _target = g.target;\n            var currentopacity = _target.getSymbol().polygonOpacity;\n            oldopacity =\n              oldopacity < currentopacity && oldopacity != 0\n                ? oldopacity\n                : currentopacity;\n            var newopacity =\n              currentopacity + 0.2 <= 1 ? currentopacity + 0.2 : 1;\n            var _symbol = _target.getSymbol();\n            _target.updateSymbol({ polygonOpacity: newopacity });\n            _target.on(\"mouseout\", function(_g) {\n              var _target_ = _g.target;\n              _target_.updateSymbol({\n                polygonOpacity: oldopacity\n              });\n            });\n          });\n        }\n        polygons.push(polygon);\n      }\n      return polygons;\n    },\n    //polygons添加点击事件\n    addInfoWin(geos) {\n      var vm = this;\n      for (let i = 0; i < geos.length; i++) {\n        //vm.setInfoWindow(geos[i]);\n        geos[i].on(\"click\", function(g) {\n          //还原样式\n          geos.forEach(function(e) {\n            e.updateSymbol({\n              polygonFill: \"#6394d5\"\n            });\n          });\n          //修改点击样式\n          g.target.updateSymbol({\n            polygonFill: \"#f00\"\n          });\n          vm.setInfoWindow(g.target);\n          vm.mapData.districtName = g.target.attributes.type;\n          vm.$emit(\"setmapData\", vm.mapData);\n        });\n      }\n    },\n    //添加信息框\n    setInfoWindow(geo) {\n      var attri = geo.attributes;\n      // var content =\n      //     '<table class=\"infoWin\" cellspacing=\"5\" id=\"infoWin\">';\n      // for (var p in attri) {\n      //     content +=\n      //         \"<tr><td>\" + p + \"</td><td>：\" + attri[p] + \"</td></tr>\";\n      // }\n      // content += \"</table>\";\n      // var content ='<div>'+attri.type+'<div>';\n\n      var content1 =\n        '<div class=\"mapinfowin\">' +\n        '<div class=\"head\">' +\n        attri.type +\n        '<div class=\"close\">X</div>' +\n        \"</div>\" +\n        '<div class=\"main\">' +\n        '<div class=\"left\">' +\n        '<div class=\"title\">人口总数</div>' +\n        '<div class=\"number\">38410</div>' +\n        '<div class=\"title\">诉求数</div>' +\n        '<div class=\"number\">379</div>' +\n        \"</div>\" +\n        '<div class=\"left\">' +\n        '<div class=\"title\">万人投诉率</div>' +\n        '<div class=\"number\">11.23%</div>' +\n        '<div class=\"title\">主要投诉</div>' +\n        '<div class=\"number\">噪音污染</div>' +\n        \"</div>\" +\n        \"</div>\" +\n        \"</div>\";\n      var content = \n      `<div class=\"mapinfowin\">\n            <div class=\"head\">${attri.type}<div class=\"close\">X</div></div>\n            <div class=\"main\">\n                <div class=\"left\">\n                    <div class=\"title\">人口总数</div>\n                    <div class=\"number\">38410</div>\n                    <div class=\"title\">诉求数</div>\n                    <div class=\"number\">379</div>\n                </div>\n                <div class=\"left\">\n                    <div class=\"title\">万人投诉率</div>\n                    <div class=\"number\">11.23%</div>\n                    <div class=\"title\">主要投诉</div>\n                    <div class=\"number\">噪音污染</div>\n                </div>\n            </div>\n        </div>`;\n      var options = {\n        content: content,\n        width: 250, //弹窗的宽度\n        dx: 250, //向左右偏移\n        dy: 50 //上下偏移\n      };\n\n      var infoWindow = new maptalks.ui.InfoWindow(options);\n      var _infoWin = infoWindow.addTo(geo);\n      _infoWin.show();\n      //关闭弹窗\n      $(\".close\").bind(\"click\", function() {\n        _infoWin.hide();\n        //还原样式\n        // geo.updateSymbol({\n        //     polygonFill: \"#6394d5\"\n        // });\n      });\n      geo.on(\"click\", function(e) {\n        !_infoWin.isVisible()\n          ? _infoWin.show(e.target.getCenter())\n          : _infoWin.hide();\n      });\n    },\n    onefunc() {\n      alert(1);\n    },\n\n    //拼接查询参数的方法\n    _QueryParams(option) {\n      var queryString = \"/query?\";\n      var geometry = option.geometry || \"\";\n      var condition = {\n        where: option.where || \"1=1\",\n        geometry:\n          geometry instanceof Object ? JSON.stringify(geometry) : geometry,\n        geometryType: option.geometryType || \"esriGeometryPoint\",\n        inSR: option.inSR || \"\",\n        spatialRel:\n          option.esriSpatialRelIntersects || \"esriSpatialRelIntersects\",\n        relationParam: option.relationParam || \"\",\n        objectIds: option.objectIds || \"\",\n        time: option.time || \"\",\n        returnCountOnly: option.returnCountOnly || false,\n        returnGeometry: option.returnGeometry || true,\n        maxAllowableOffset: option.maxAllowableOffset || \"\",\n        outSR: option.outSR || \"\",\n        text: option.text || \"\",\n        outFields: option.outFields || \"*\"\n      };\n      for (var p in condition) {\n        queryString += \"&\" + p + \"=\" + condition[p];\n      }\n      queryString += \"&f=pjson\";\n      return queryString;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" >\n.map {\n  height: 590px;\n  margin-bottom: 10px;\n  border: solid 1px rgba(113, 113, 113, 0.6);\n}\n.maptalks-msgContent {\n  .mapinfowin {\n    width: 250px;\n    .head {\n      background-color: #da4e63;\n      opacity: 0.9;\n      height: 30px;\n      font-size: 18px;\n      color: #ffffff;\n      padding-left: 8px;\n      line-height: 30px;\n      .close {\n        float: right;\n        padding-right: 10px;\n        &:hover {\n          cursor: pointer;\n        }\n      }\n    }\n    .main {\n      background-color: #fcad3c;\n      display: flex;\n      .left {\n        width: 50%;\n        padding: 10px 20px;\n        .title {\n          height: 25px;\n          text-align: center;\n          font-size: 14px;\n          color: #ffffff;\n        }\n        .number {\n          background-color: #a47128;\n          border-radius: 6px;\n          height: 30px;\n          border: solid 1px #ffffff;\n          font-size: 18px;\n          color: #fffffe;\n          text-align: center;\n          line-height: 30px;\n        }\n      }\n    }\n  }\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/map/maptalks/wfs.vue","/*!\n * maptalks.esri v0.0.1\n * LICENSE : MIT\n * (c) 2016-2018 maptalks.org\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('maptalks')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', 'maptalks'], factory) :\n\t(factory((global.maptalks = global.maptalks || {}),global.maptalks));\n}(this, (function (exports,maptalks) { 'use strict';\n\nvar cors = window.XMLHttpRequest && 'withCredentials' in new window.XMLHttpRequest();\n\nvar trimText = function (isNative) {\n    return function (input) {\n        return isNative ? isNative.apply(input) : ((input || '') + '').replace(/^\\s+|\\s+$/g, '');\n    };\n}(String.prototype.trim);\n\nvar cleanUrl = function (url) {\n    url = trimText(url);\n\n    if (url[url.length - 1] !== '/') {\n        url += '/';\n    }\n    return url;\n};\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar jsx = function () {\n  var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7;\n  return function createRawReactElement(type, props, key, children) {\n    var defaultProps = type && type.defaultProps;\n    var childrenLength = arguments.length - 3;\n\n    if (!props && childrenLength !== 0) {\n      props = {};\n    }\n\n    if (props && defaultProps) {\n      for (var propName in defaultProps) {\n        if (props[propName] === void 0) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    } else if (!props) {\n      props = defaultProps || {};\n    }\n\n    if (childrenLength === 1) {\n      props.children = children;\n    } else if (childrenLength > 1) {\n      var childArray = Array(childrenLength);\n\n      for (var i = 0; i < childrenLength; i++) {\n        childArray[i] = arguments[i + 3];\n      }\n\n      props.children = childArray;\n    }\n\n    return {\n      $$typeof: REACT_ELEMENT_TYPE,\n      type: type,\n      key: key === undefined ? null : '' + key,\n      ref: null,\n      props: props,\n      _owner: null\n    };\n  };\n}();\n\nvar asyncIterator = function (iterable) {\n  if (typeof Symbol === \"function\") {\n    if (Symbol.asyncIterator) {\n      var method = iterable[Symbol.asyncIterator];\n      if (method != null) return method.call(iterable);\n    }\n\n    if (Symbol.iterator) {\n      return iterable[Symbol.iterator]();\n    }\n  }\n\n  throw new TypeError(\"Object is not async iterable\");\n};\n\nvar asyncGenerator = function () {\n  function AwaitValue(value) {\n    this.value = value;\n  }\n\n  function AsyncGenerator(gen) {\n    var front, back;\n\n    function send(key, arg) {\n      return new Promise(function (resolve, reject) {\n        var request = {\n          key: key,\n          arg: arg,\n          resolve: resolve,\n          reject: reject,\n          next: null\n        };\n\n        if (back) {\n          back = back.next = request;\n        } else {\n          front = back = request;\n          resume(key, arg);\n        }\n      });\n    }\n\n    function resume(key, arg) {\n      try {\n        var result = gen[key](arg);\n        var value = result.value;\n\n        if (value instanceof AwaitValue) {\n          Promise.resolve(value.value).then(function (arg) {\n            resume(\"next\", arg);\n          }, function (arg) {\n            resume(\"throw\", arg);\n          });\n        } else {\n          settle(result.done ? \"return\" : \"normal\", result.value);\n        }\n      } catch (err) {\n        settle(\"throw\", err);\n      }\n    }\n\n    function settle(type, value) {\n      switch (type) {\n        case \"return\":\n          front.resolve({\n            value: value,\n            done: true\n          });\n          break;\n\n        case \"throw\":\n          front.reject(value);\n          break;\n\n        default:\n          front.resolve({\n            value: value,\n            done: false\n          });\n          break;\n      }\n\n      front = front.next;\n\n      if (front) {\n        resume(front.key, front.arg);\n      } else {\n        back = null;\n      }\n    }\n\n    this._invoke = send;\n\n    if (typeof gen.return !== \"function\") {\n      this.return = undefined;\n    }\n  }\n\n  if (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n    AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n      return this;\n    };\n  }\n\n  AsyncGenerator.prototype.next = function (arg) {\n    return this._invoke(\"next\", arg);\n  };\n\n  AsyncGenerator.prototype.throw = function (arg) {\n    return this._invoke(\"throw\", arg);\n  };\n\n  AsyncGenerator.prototype.return = function (arg) {\n    return this._invoke(\"return\", arg);\n  };\n\n  return {\n    wrap: function (fn) {\n      return function () {\n        return new AsyncGenerator(fn.apply(this, arguments));\n      };\n    },\n    await: function (value) {\n      return new AwaitValue(value);\n    }\n  };\n}();\n\nvar asyncGeneratorDelegate = function (inner, awaitWrap) {\n  var iter = {},\n      waiting = false;\n\n  function pump(key, value) {\n    waiting = true;\n    value = new Promise(function (resolve) {\n      resolve(inner[key](value));\n    });\n    return {\n      done: false,\n      value: awaitWrap(value)\n    };\n  }\n\n  \n\n  if (typeof Symbol === \"function\" && Symbol.iterator) {\n    iter[Symbol.iterator] = function () {\n      return this;\n    };\n  }\n\n  iter.next = function (value) {\n    if (waiting) {\n      waiting = false;\n      return value;\n    }\n\n    return pump(\"next\", value);\n  };\n\n  if (typeof inner.throw === \"function\") {\n    iter.throw = function (value) {\n      if (waiting) {\n        waiting = false;\n        throw value;\n      }\n\n      return pump(\"throw\", value);\n    };\n  }\n\n  if (typeof inner.return === \"function\") {\n    iter.return = function (value) {\n      return pump(\"return\", value);\n    };\n  }\n\n  return iter;\n};\n\nvar asyncToGenerator = function (fn) {\n  return function () {\n    var gen = fn.apply(this, arguments);\n    return new Promise(function (resolve, reject) {\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          return Promise.resolve(value).then(function (value) {\n            step(\"next\", value);\n          }, function (err) {\n            step(\"throw\", err);\n          });\n        }\n      }\n\n      return step(\"next\");\n    });\n  };\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar defineEnumerableProperties = function (obj, descs) {\n  for (var key in descs) {\n    var desc = descs[key];\n    desc.configurable = desc.enumerable = true;\n    if (\"value\" in desc) desc.writable = true;\n    Object.defineProperty(obj, key, desc);\n  }\n\n  return obj;\n};\n\nvar defaults = function (obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n};\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar get = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass);\n};\n\nvar _instanceof = function (left, right) {\n  if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n    return right[Symbol.hasInstance](left);\n  } else {\n    return left instanceof right;\n  }\n};\n\nvar interopRequireDefault = function (obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n};\n\nvar interopRequireWildcard = function (obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n};\n\nvar newArrowCheck = function (innerThis, boundThis) {\n  if (innerThis !== boundThis) {\n    throw new TypeError(\"Cannot instantiate an arrow function\");\n  }\n};\n\nvar objectDestructuringEmpty = function (obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n};\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar selfGlobal = typeof global === \"undefined\" ? self : global;\n\nvar set = function set(object, property, value, receiver) {\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent !== null) {\n      set(parent, property, value, receiver);\n    }\n  } else if (\"value\" in desc && desc.writable) {\n    desc.value = value;\n  } else {\n    var setter = desc.set;\n\n    if (setter !== undefined) {\n      setter.call(receiver, value);\n    }\n  }\n\n  return value;\n};\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar slicedToArrayLoose = function (arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (Symbol.iterator in Object(arr)) {\n    var _arr = [];\n\n    for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n      _arr.push(_step.value);\n\n      if (i && _arr.length === i) break;\n    }\n\n    return _arr;\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n};\n\nvar taggedTemplateLiteral = function (strings, raw) {\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n};\n\nvar taggedTemplateLiteralLoose = function (strings, raw) {\n  strings.raw = raw;\n  return strings;\n};\n\nvar temporalRef = function (val, name, undef) {\n  if (val === undef) {\n    throw new ReferenceError(name + \" is not defined - temporal dead zone\");\n  } else {\n    return val;\n  }\n};\n\nvar temporalUndefined = {};\n\nvar toArray = function (arr) {\n  return Array.isArray(arr) ? arr : Array.from(arr);\n};\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n\n\nvar babelHelpers$1 = Object.freeze({\n\tjsx: jsx,\n\tasyncIterator: asyncIterator,\n\tasyncGenerator: asyncGenerator,\n\tasyncGeneratorDelegate: asyncGeneratorDelegate,\n\tasyncToGenerator: asyncToGenerator,\n\tclassCallCheck: classCallCheck,\n\tcreateClass: createClass,\n\tdefineEnumerableProperties: defineEnumerableProperties,\n\tdefaults: defaults,\n\tdefineProperty: defineProperty,\n\tget: get,\n\tinherits: inherits,\n\tinteropRequireDefault: interopRequireDefault,\n\tinteropRequireWildcard: interopRequireWildcard,\n\tnewArrowCheck: newArrowCheck,\n\tobjectDestructuringEmpty: objectDestructuringEmpty,\n\tobjectWithoutProperties: objectWithoutProperties,\n\tpossibleConstructorReturn: possibleConstructorReturn,\n\tselfGlobal: selfGlobal,\n\tset: set,\n\tslicedToArray: slicedToArray,\n\tslicedToArrayLoose: slicedToArrayLoose,\n\ttaggedTemplateLiteral: taggedTemplateLiteral,\n\ttaggedTemplateLiteralLoose: taggedTemplateLiteralLoose,\n\ttemporalRef: temporalRef,\n\ttemporalUndefined: temporalUndefined,\n\ttoArray: toArray,\n\ttoConsumableArray: toConsumableArray,\n\ttypeof: _typeof,\n\textends: _extends,\n\tinstanceof: _instanceof\n});\n\nvar merge = function merge() {\n  var _babelHelpers;\n\n  for (var _len = arguments.length, sources = Array(_len), _key = 0; _key < _len; _key++) {\n    sources[_key] = arguments[_key];\n  }\n\n  return (_babelHelpers = babelHelpers$1).extends.apply(_babelHelpers, [{}].concat(sources));\n};\n\nvar serializeParams = function serializeParams(params) {\n    var data = '';\n    params.f = params.f || 'json';\n\n    for (var key in params) {\n        if (params.hasOwnProperty(key)) {\n            var param = params[key];\n            var type = Object.prototype.toString.call(param);\n            var value;\n\n            if (data.length) {\n                data += '&';\n            }\n\n            if (type === '[object Array]') {\n                value = Object.prototype.toString.call(param[0]) === '[object Object]' ? JSON.stringify(param) : param.join(',');\n            } else if (type === '[object Object]') {\n                value = JSON.stringify(param);\n            } else if (type === '[object Date]') {\n                value = param.valueOf();\n            } else {\n                value = param;\n            }\n\n            data += encodeURIComponent(key) + '=' + encodeURIComponent(value);\n        }\n    }\n\n    return data;\n};\n\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n\n\n\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar zousanMin = createCommonjsModule(function (module) {\n  !function (t) {\n    \"use strict\";\n    function e(t) {\n      if (t) {\n        var e = this;t(function (t) {\n          e.resolve(t);\n        }, function (t) {\n          e.reject(t);\n        });\n      }\n    }function n(t, e) {\n      if (\"function\" == typeof t.y) try {\n        var n = t.y.call(i, e);t.p.resolve(n);\n      } catch (o) {\n        t.p.reject(o);\n      } else t.p.resolve(e);\n    }function o(t, e) {\n      if (\"function\" == typeof t.n) try {\n        var n = t.n.call(i, e);t.p.resolve(n);\n      } catch (o) {\n        t.p.reject(o);\n      } else t.p.reject(e);\n    }var r,\n        i,\n        c = \"fulfilled\",\n        u = \"rejected\",\n        s = \"undefined\",\n        f = function () {\n      function e() {\n        for (; n.length - o;) {\n          try {\n            n[o]();\n          } catch (e) {\n            t.console && t.console.error(e);\n          }n[o++] = i, o == r && (n.splice(0, r), o = 0);\n        }\n      }var n = [],\n          o = 0,\n          r = 1024,\n          c = function () {\n        if ((typeof MutationObserver === \"undefined\" ? \"undefined\" : _typeof(MutationObserver)) !== s) {\n          var t = document.createElement(\"div\"),\n              n = new MutationObserver(e);return n.observe(t, { attributes: !0 }), function () {\n            t.setAttribute(\"a\", 0);\n          };\n        }return (typeof setImmediate === \"undefined\" ? \"undefined\" : _typeof(setImmediate)) !== s ? function () {\n          setImmediate(e);\n        } : function () {\n          setTimeout(e, 0);\n        };\n      }();return function (t) {\n        n.push(t), n.length - o == 1 && c();\n      };\n    }();e.prototype = { resolve: function resolve(t) {\n        if (this.state === r) {\n          if (t === this) return this.reject(new TypeError(\"Attempt to resolve promise with self\"));var e = this;if (t && (\"function\" == typeof t || \"object\" == (typeof t === \"undefined\" ? \"undefined\" : _typeof(t)))) try {\n            var o = !0,\n                i = t.then;if (\"function\" == typeof i) return void i.call(t, function (t) {\n              o && (o = !1, e.resolve(t));\n            }, function (t) {\n              o && (o = !1, e.reject(t));\n            });\n          } catch (u) {\n            return void (o && this.reject(u));\n          }this.state = c, this.v = t, e.c && f(function () {\n            for (var o = 0, r = e.c.length; r > o; o++) {\n              n(e.c[o], t);\n            }\n          });\n        }\n      }, reject: function reject(n) {\n        if (this.state === r) {\n          this.state = u, this.v = n;var i = this.c;i ? f(function () {\n            for (var t = 0, e = i.length; e > t; t++) {\n              o(i[t], n);\n            }\n          }) : !e.suppressUncaughtRejectionError && t.console && t.console.log(\"You upset Zousan. Please catch rejections: \", n, n ? n.stack : null);\n        }\n      }, then: function then(t, i) {\n        var u = new e(),\n            s = { y: t, n: i, p: u };if (this.state === r) this.c ? this.c.push(s) : this.c = [s];else {\n          var l = this.state,\n              a = this.v;f(function () {\n            l === c ? n(s, a) : o(s, a);\n          });\n        }return u;\n      }, \"catch\": function _catch(t) {\n        return this.then(null, t);\n      }, \"finally\": function _finally(t) {\n        return this.then(t, t);\n      }, timeout: function timeout(t, n) {\n        n = n || \"Timeout\";var o = this;return new e(function (e, r) {\n          setTimeout(function () {\n            r(Error(n));\n          }, t), o.then(function (t) {\n            e(t);\n          }, function (t) {\n            r(t);\n          });\n        });\n      } }, e.resolve = function (t) {\n      var n = new e();return n.resolve(t), n;\n    }, e.reject = function (t) {\n      var n = new e();return n.reject(t), n;\n    }, e.all = function (t) {\n      function n(n, c) {\n        n && \"function\" == typeof n.then || (n = e.resolve(n)), n.then(function (e) {\n          o[c] = e, r++, r == t.length && i.resolve(o);\n        }, function (t) {\n          i.reject(t);\n        });\n      }for (var o = [], r = 0, i = new e(), c = 0; c < t.length; c++) {\n        n(t[c], c);\n      }return t.length || i.resolve(o), i;\n    }, 'object' != s && module.exports && (module.exports = e), t.define && t.define.amd && t.define([], function () {\n      return e;\n    }), t.Zousan = e, e.soon = f;\n  }(\"undefined\" != typeof commonjsGlobal ? commonjsGlobal : commonjsGlobal);\n});\n\nvar promise = void 0;\n\nif (typeof Promise !== 'undefined') {\n    promise = Promise;\n} else {\n    promise = zousanMin;\n}\n\nvar Promise$1 = promise;\n\nvar _options$1 = {\n    proxy: false,\n    useCors: cors,\n    timeout: 0\n};\n\nvar Service = function () {\n    function Service(url) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        classCallCheck(this, Service);\n\n        this._options = merge({}, _options$1, options);\n        this._url = cleanUrl(url);\n        this._token = this._options.token || null;\n    }\n\n    Service.prototype.authenticate = function authenticate(token) {\n        this._token = token;\n    };\n\n    Service.prototype.request = function request(method, path, params) {\n        var url = this._options.proxy ? this._options.proxy + '?' + this._url + path : this._url + path;\n\n        params = !!this._token ? merge({}, params, { token: this._token }) : merge({}, params);\n\n        method = method.toLowerCase();\n\n        if (method === 'get' && !this._options.useCors) {\n            return new Promise$1(function (resolve, reject) {\n                maptalks.Ajax.jsonp(url + '?' + serializeParams(params), function (err, resp) {\n                    err === null ? resolve(resp) : reject(err);\n                });\n            });\n        } else if (method === 'get') {\n            return new Promise$1(function (resolve, reject) {\n                maptalks.Ajax.get(url + '?' + serializeParams(params), function (err, resp) {\n                    err === null ? resolve(resp) : reject(err);\n                });\n            });\n        } else if (method === 'post') {\n            return new Promise$1(function (resolve, reject) {\n                maptalks.Ajax.post({ url: url }, serializeParams(params), function (err, resp) {\n                    err === null ? resolve(resp) : reject(err);\n                });\n            });\n        }\n    };\n\n    return Service;\n}();\n\nvar Task = function () {\n  function Task(service) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    classCallCheck(this, Task);\n\n    this._service = service;\n\n    this._formatted = false;\n\n    this._params = {};\n  }\n\n  Task.prototype.request = function request(method, params) {\n    var _params = merge({}, this._params, params);\n    return this._service.request(method, this._path, _params);\n  };\n\n  Task.prototype.run = function run() {\n    throw Error(this.constructorName + 'is no implemention run function');\n  };\n\n  createClass(Task, [{\n    key: 'token',\n    set: function set$$1(value) {\n      this._service.authenticate(value);\n    }\n  }, {\n    key: 'formatted',\n    set: function set$$1(boolean) {\n      this._formatted = boolean;\n    }\n  }]);\n  return Task;\n}();\n\nvar IdentifyTask = function (_Task) {\n    inherits(IdentifyTask, _Task);\n\n    function IdentifyTask(endpoint, params) {\n        classCallCheck(this, IdentifyTask);\n\n        var _this = possibleConstructorReturn(this, _Task.call(this, endpoint, params));\n\n        _this._path = 'identify';\n        return _this;\n    }\n\n    IdentifyTask.prototype.between = function between(start, end) {\n        this._time = [start.valueOf(), end.valueOf()];\n        return this;\n    };\n\n    return IdentifyTask;\n}(Task);\n\nvar IdentifyImageTask = function (_IdentifyTask) {\n    inherits(IdentifyImageTask, _IdentifyTask);\n\n    function IdentifyImageTask() {\n        classCallCheck(this, IdentifyImageTask);\n        return possibleConstructorReturn(this, _IdentifyTask.apply(this, arguments));\n    }\n\n    IdentifyImageTask.prototype.run = function run(callback, context) {\n        this.request(function (error, response) {\n            var resp = this._resolveResponse(response);\n            callback.call(context, resp);\n        }, this);\n    };\n\n    IdentifyImageTask.prototype._resolveResponse = function _resolveResponse(response) {\n        var location = response.location,\n            catalogItems = response.catalogItems,\n            catalogItemVisibilities = response.catalogItemVisibilities;\n\n        var geoJson = {\n            'pixel': {\n                'type': 'Feature',\n                'geometry': {\n                    'type': 'Point',\n                    'coordinates': [location.x, location.y]\n                },\n                'crs': {\n                    'type': 'EPSG',\n                    'properties': {\n                        'code': location.spatialReference.wkid\n                    }\n                },\n                'properties': {\n                    'OBJECTID': response.objectId,\n                    'name': response.name,\n                    'value': response.value\n                },\n                'id': response.objectId\n            }\n        };\n\n        if (response.properties && response.properties.Values) {\n            geoJSON.pixel.properties.values = response.properties.Values;\n        }\n\n        if (catalogItems && catalogItems.features) {\n            geoJSON.catalogItems = responseToFeatureCollection(catalogItems);\n            if (catalogItemVisibilities && catalogItemVisibilities.length === geoJSON.catalogItems.features.length) {\n                for (var i = catalogItemVisibilities.length - 1; i >= 0; i--) {\n                    geoJSON.catalogItems.features[i].properties.catalogItemVisibility = catalogItemVisibilities[i];\n                }\n            }\n        }\n        return geoJSON;\n    };\n\n    return IdentifyImageTask;\n}(IdentifyTask);\n\nvar MetadataTask = function (_Task) {\n    inherits(MetadataTask, _Task);\n\n    function MetadataTask(service) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        classCallCheck(this, MetadataTask);\n\n        var _this = possibleConstructorReturn(this, _Task.call(this, service, options));\n\n        _this._path = \"\";\n        return _this;\n    }\n\n    MetadataTask.prototype.run = function run() {\n        return this.request('get', {});\n    };\n\n    return MetadataTask;\n}(Task);\n\nvar ExportImageTask = function (_Task) {\n    inherits(ExportImageTask, _Task);\n\n    function ExportImageTask(endpoint, params) {\n        classCallCheck(this, ExportImageTask);\n\n        var _this = possibleConstructorReturn(this, _Task.call(this, endpoint, params));\n\n        _this._path = 'exportImage';\n        return _this;\n    }\n\n    ExportImageTask.prototype.run = function run() {\n        return this.request('get', this._params);\n    };\n\n    createClass(ExportImageTask, [{\n        key: 'params',\n        set: function set$$1() {\n            var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n            this._params = merge({}, this._params, value);\n        }\n    }]);\n    return ExportImageTask;\n}(Task);\n\nvar ImageService = function (_Service) {\n    inherits(ImageService, _Service);\n\n    function ImageService() {\n        classCallCheck(this, ImageService);\n        return possibleConstructorReturn(this, _Service.apply(this, arguments));\n    }\n\n    ImageService.prototype.metadata = function metadata() {\n        this._metadataTask = this._metadataTask || new MetadataTask(this);\n        return this._metadataTask.run();\n    };\n\n    ImageService.prototype.GetSamples = function GetSamples() {};\n\n    ImageService.prototype.CouputeClassStatistics = function CouputeClassStatistics() {};\n\n    ImageService.prototype.ComputeHistograms = function ComputeHistograms() {};\n\n    ImageService.prototype.exportImage = function exportImage(params) {\n        this._exportImageTask = this._exportImageTask || new ExportImageTask(this);\n        this._exportImageTask.params = params;\n        return this._exportImageTask.run();\n    };\n\n    ImageService.prototype.query = function query() {};\n\n    ImageService.prototype.identify = function identify() {\n        return new IdentifyImageTask(this);\n    };\n\n    return ImageService;\n}(Service);\n\nvar delaunay = createCommonjsModule(function (module) {\n  var Delaunay;\n\n  (function () {\n    \"use strict\";\n\n    var EPSILON = 1.0 / 1048576.0;\n\n    function supertriangle(vertices) {\n      var xmin = Number.POSITIVE_INFINITY,\n          ymin = Number.POSITIVE_INFINITY,\n          xmax = Number.NEGATIVE_INFINITY,\n          ymax = Number.NEGATIVE_INFINITY,\n          i,\n          dx,\n          dy,\n          dmax,\n          xmid,\n          ymid;\n\n      for (i = vertices.length; i--;) {\n        if (vertices[i][0] < xmin) xmin = vertices[i][0];\n        if (vertices[i][0] > xmax) xmax = vertices[i][0];\n        if (vertices[i][1] < ymin) ymin = vertices[i][1];\n        if (vertices[i][1] > ymax) ymax = vertices[i][1];\n      }\n\n      dx = xmax - xmin;\n      dy = ymax - ymin;\n      dmax = Math.max(dx, dy);\n      xmid = xmin + dx * 0.5;\n      ymid = ymin + dy * 0.5;\n\n      return [[xmid - 20 * dmax, ymid - dmax], [xmid, ymid + 20 * dmax], [xmid + 20 * dmax, ymid - dmax]];\n    }\n\n    function circumcircle(vertices, i, j, k) {\n      var x1 = vertices[i][0],\n          y1 = vertices[i][1],\n          x2 = vertices[j][0],\n          y2 = vertices[j][1],\n          x3 = vertices[k][0],\n          y3 = vertices[k][1],\n          fabsy1y2 = Math.abs(y1 - y2),\n          fabsy2y3 = Math.abs(y2 - y3),\n          xc,\n          yc,\n          m1,\n          m2,\n          mx1,\n          mx2,\n          my1,\n          my2,\n          dx,\n          dy;\n\n      if (fabsy1y2 < EPSILON && fabsy2y3 < EPSILON) throw new Error(\"Eek! Coincident points!\");\n\n      if (fabsy1y2 < EPSILON) {\n        m2 = -((x3 - x2) / (y3 - y2));\n        mx2 = (x2 + x3) / 2.0;\n        my2 = (y2 + y3) / 2.0;\n        xc = (x2 + x1) / 2.0;\n        yc = m2 * (xc - mx2) + my2;\n      } else if (fabsy2y3 < EPSILON) {\n        m1 = -((x2 - x1) / (y2 - y1));\n        mx1 = (x1 + x2) / 2.0;\n        my1 = (y1 + y2) / 2.0;\n        xc = (x3 + x2) / 2.0;\n        yc = m1 * (xc - mx1) + my1;\n      } else {\n        m1 = -((x2 - x1) / (y2 - y1));\n        m2 = -((x3 - x2) / (y3 - y2));\n        mx1 = (x1 + x2) / 2.0;\n        mx2 = (x2 + x3) / 2.0;\n        my1 = (y1 + y2) / 2.0;\n        my2 = (y2 + y3) / 2.0;\n        xc = (m1 * mx1 - m2 * mx2 + my2 - my1) / (m1 - m2);\n        yc = fabsy1y2 > fabsy2y3 ? m1 * (xc - mx1) + my1 : m2 * (xc - mx2) + my2;\n      }\n\n      dx = x2 - xc;\n      dy = y2 - yc;\n      return { i: i, j: j, k: k, x: xc, y: yc, r: dx * dx + dy * dy };\n    }\n\n    function dedup(edges) {\n      var i, j, a, b, m, n;\n\n      for (j = edges.length; j;) {\n        b = edges[--j];\n        a = edges[--j];\n\n        for (i = j; i;) {\n          n = edges[--i];\n          m = edges[--i];\n\n          if (a === m && b === n || a === n && b === m) {\n            edges.splice(j, 2);\n            edges.splice(i, 2);\n            break;\n          }\n        }\n      }\n    }\n\n    Delaunay = {\n      triangulate: function triangulate(vertices, key) {\n        var n = vertices.length,\n            i,\n            j,\n            indices,\n            st,\n            open,\n            closed,\n            edges,\n            dx,\n            dy,\n            a,\n            b,\n            c;\n\n        if (n < 3) return [];\n\n        vertices = vertices.slice(0);\n\n        if (key) for (i = n; i--;) {\n          vertices[i] = vertices[i][key];\n        }\n        indices = new Array(n);\n\n        for (i = n; i--;) {\n          indices[i] = i;\n        }indices.sort(function (i, j) {\n          var diff = vertices[j][0] - vertices[i][0];\n          return diff !== 0 ? diff : i - j;\n        });\n\n        st = supertriangle(vertices);\n        vertices.push(st[0], st[1], st[2]);\n\n        open = [circumcircle(vertices, n + 0, n + 1, n + 2)];\n        closed = [];\n        edges = [];\n\n        for (i = indices.length; i--; edges.length = 0) {\n          c = indices[i];\n\n          for (j = open.length; j--;) {\n            dx = vertices[c][0] - open[j].x;\n            if (dx > 0.0 && dx * dx > open[j].r) {\n              closed.push(open[j]);\n              open.splice(j, 1);\n              continue;\n            }\n\n            dy = vertices[c][1] - open[j].y;\n            if (dx * dx + dy * dy - open[j].r > EPSILON) continue;\n\n            edges.push(open[j].i, open[j].j, open[j].j, open[j].k, open[j].k, open[j].i);\n            open.splice(j, 1);\n          }\n\n          dedup(edges);\n\n          for (j = edges.length; j;) {\n            b = edges[--j];\n            a = edges[--j];\n            open.push(circumcircle(vertices, a, b, c));\n          }\n        }\n\n        for (i = open.length; i--;) {\n          closed.push(open[i]);\n        }open.length = 0;\n\n        for (i = closed.length; i--;) {\n          if (closed[i].i < n && closed[i].j < n && closed[i].k < n) open.push(closed[i].i, closed[i].j, closed[i].k);\n        }\n        return open;\n      },\n      contains: function contains(tri, p) {\n        if (p[0] < tri[0][0] && p[0] < tri[1][0] && p[0] < tri[2][0] || p[0] > tri[0][0] && p[0] > tri[1][0] && p[0] > tri[2][0] || p[1] < tri[0][1] && p[1] < tri[1][1] && p[1] < tri[2][1] || p[1] > tri[0][1] && p[1] > tri[1][1] && p[1] > tri[2][1]) return null;\n\n        var a = tri[1][0] - tri[0][0],\n            b = tri[2][0] - tri[0][0],\n            c = tri[1][1] - tri[0][1],\n            d = tri[2][1] - tri[0][1],\n            i = a * d - b * c;\n\n        if (i === 0.0) return null;\n\n        var u = (d * (p[0] - tri[0][0]) - b * (p[1] - tri[0][1])) / i,\n            v = (a * (p[1] - tri[0][1]) - c * (p[0] - tri[0][0])) / i;\n\n        if (u < 0.0 || v < 0.0 || u + v > 1.0) return null;\n\n        return [u, v];\n      }\n    };\n\n    module.exports = Delaunay;\n  })();\n});\n\nvar _options = {\n    renderer: maptalks.Browser.webgl ? 'gl' : 'canvas',\n    updateInterval: 150,\n    format: 'jpgpng',\n    transparent: true,\n    f: 'image'\n};\n\nvar ImageMapLayer = function (_maptalks$Layer) {\n    inherits(ImageMapLayer, _maptalks$Layer);\n\n    function ImageMapLayer(id) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        classCallCheck(this, ImageMapLayer);\n\n        var _this = possibleConstructorReturn(this, _maptalks$Layer.call(this, id, options));\n\n        _this._options = merge({}, _options, options);\n        _this._url = options.url;\n        _this._service = new ImageService(_this._url);\n        return _this;\n    }\n\n    ImageMapLayer.prototype.getEvents = function getEvents() {\n        return {\n            'zoomend': function zoomend() {\n                this._reLoad();\n            }\n        };\n    };\n\n    ImageMapLayer.prototype._reLoad = function _reLoad() {\n        var _this2 = this;\n\n        var params = this._buildExportParams();\n        this._service.exportImage(params).then(function (resp) {\n            _this2._cacheData = JSON.parse(resp);\n            _this2._width = _this2._cacheData.width;\n            _this2._height = _this2._cacheData.height;\n            _this2._buildDelaunay();\n            _this2.load();\n        }, function (err) {\n            console.log(err);\n        });\n        return false;\n    };\n\n    ImageMapLayer.prototype.onLoad = function onLoad() {\n        if (this.cacheData) {\n            return true;\n        }\n        this._reLoad();\n    };\n\n    ImageMapLayer.prototype._buildExportParams = function _buildExportParams() {\n        var params = {},\n            map = this.getMap(),\n            glZoom = map.getZoom(),\n            geoExtent = map.getExtent(),\n            mapSize = map.getSize();\n\n        params.bbox = this._options.extent || [geoExtent.xmin, geoExtent.ymin, geoExtent.xmax, geoExtent.ymax];\n\n        var min = new maptalks.Coordinate(params.bbox[0], params.bbox[1]);\n        var ptMin = map.coordinateToPoint(min, glZoom);\n        var max = new maptalks.Coordinate(params.bbox[2], params.bbox[3]);\n        var ptMax = map.coordinateToPoint(max, glZoom);\n        var w = Math.floor(ptMax.x - ptMin.x),\n            h = Math.abs(Math.floor(ptMax.y - ptMin.y));\n        params.size = w + ',' + h;\n        params.format = this._options.format;\n        params.transparent = this._options.transparent;\n\n        params.bboxSR = '4326';\n\n        params.imageSR = '4326';\n        return params;\n    };\n\n    ImageMapLayer.prototype._buildDelaunay = function _buildDelaunay() {\n        var vertices = new Array(48),\n            w = this._width,\n            h = this._height;\n        var i = void 0,\n            x = void 0,\n            y = void 0;\n        for (i = vertices.length; i--;) {\n            do {\n                x = Math.random() - 0.5;\n                y = Math.random() - 0.5;\n            } while (x * x + y * y > 0.25);\n            x = (x * 0.96875 + 0.5) * w;\n            y = (y * 0.96875 + 0.5) * h;\n            vertices[i] = [x, y];\n        }\n        var triangles = delaunay.triangulate(vertices);\n\n        for (i = vertices.length; i--;) {\n            vertices[i] = vertices[i].concat(Math.random() * 30);\n        }\n        this._vertices = vertices;\n        this._triangles = triangles;\n    };\n\n    createClass(ImageMapLayer, [{\n        key: 'cacheData',\n        get: function get$$1() {\n            return this._cacheData;\n        }\n    }, {\n        key: 'tin',\n        get: function get$$1() {\n            return {\n                w: this._width,\n                h: this._height,\n                vertices: this._vertices,\n                triangles: this._triangles\n            };\n        }\n    }]);\n    return ImageMapLayer;\n}(maptalks.Layer);\n\nvar ImageCanvasRenderer = function (_maptalks$renderer$Ca) {\n    inherits(ImageCanvasRenderer, _maptalks$renderer$Ca);\n\n    function ImageCanvasRenderer() {\n        classCallCheck(this, ImageCanvasRenderer);\n        return possibleConstructorReturn(this, _maptalks$renderer$Ca.apply(this, arguments));\n    }\n\n    ImageCanvasRenderer.prototype.onAdd = function onAdd() {};\n\n    ImageCanvasRenderer.prototype.draw = function draw() {\n        this.prepareCanvas();\n        this._drawImage();\n    };\n\n    ImageCanvasRenderer.prototype._drawImage = function _drawImage() {\n        var _this4 = this;\n\n        var imgObj = this.layer.cacheData,\n            nw = new maptalks.Coordinate(imgObj.extent.xmin, imgObj.extent.ymax);\n        if (imgObj) {\n            var img = new Image();\n            img.onload = function () {\n                var pt = _this4.getMap()._prjToContainerPoint(nw);\n                _this4.context.drawImage(img, pt.x, pt.y);\n                _this4.completeRender();\n            };\n            img.src = imgObj.href;\n        }\n    };\n\n    ImageCanvasRenderer.prototype.drawOnInteracting = function drawOnInteracting() {};\n\n    ImageCanvasRenderer.prototype.hitDetect = function hitDetect() {\n        return false;\n    };\n\n    ImageCanvasRenderer.prototype.onZoomEnd = function onZoomEnd() {\n        _maptalks$renderer$Ca.prototype.onZoomEnd.call(this);\n    };\n\n    ImageCanvasRenderer.prototype.onMoveEnd = function onMoveEnd() {\n        _maptalks$renderer$Ca.prototype.onMoveEnd.call(this);\n    };\n\n    ImageCanvasRenderer.prototype.onDragRotateEnd = function onDragRotateEnd() {\n        _maptalks$renderer$Ca.prototype.onDragRotateEnd.call(this);\n    };\n\n    return ImageCanvasRenderer;\n}(maptalks.renderer.CanvasRenderer);\n\nImageMapLayer.registerRenderer('canvas', ImageCanvasRenderer);\n\nImageMapLayer.registerRenderer('gl', function (_maptalks$renderer$Im) {\n    inherits(_class, _maptalks$renderer$Im);\n\n    function _class() {\n        classCallCheck(this, _class);\n        return possibleConstructorReturn(this, _maptalks$renderer$Im.apply(this, arguments));\n    }\n\n    _class.prototype.draw = function draw() {\n        this.prepareCanvas();\n        this._drawImage();\n    };\n\n    _class.prototype._drawImage = function _drawImage() {\n        var imgObj = this.layer.cacheData,\n            that = this;\n        var map = this.getMap(),\n            glZoom = map.getGLZoom(),\n            glScale = map.getGLScale(),\n            vertices = this.layer.tin.vertices,\n            triangles = this.layer.tin.triangles,\n            w = this.layer.tin.w,\n            h = this.layer.tin.h,\n            len = vertices.length;\n\n        if (imgObj) {\n            var img = new Image();\n            img.crossOrigin = 'anonymous';\n            img.onload = function () {\n                var nw = new maptalks.Coordinate(imgObj.extent.xmin, imgObj.extent.ymax);\n                var pt = that.layer.getMap().coordinateToPoint(nw, glZoom);\n                var vtcs = [],\n                    txcoord = [];\n                for (var i = 0; i < len; i++) {\n                    vtcs.push(pt.x + vertices[i][0] * glScale);\n                    vtcs.push(pt.y + vertices[i][1] * glScale);\n                    vtcs.push(vertices[i][2]);\n\n                    txcoord.push(vertices[i][0] / w);\n                    txcoord.push(vertices[i][1] / h);\n                }\n                that.drawTinImage(img, vtcs, txcoord, triangles, 1);\n                that.completeRender();\n            };\n            img.src = imgObj.href;\n        }\n    };\n\n    _class.prototype.drawOnInteracting = function drawOnInteracting() {};\n\n    _class.prototype.onCanvasCreate = function onCanvasCreate() {\n        this.prepareGLCanvas();\n    };\n\n    _class.prototype.resizeCanvas = function resizeCanvas(canvasSize) {\n        if (!this.canvas) {\n            return;\n        }\n        _maptalks$renderer$Im.prototype.resizeCanvas.call(this, canvasSize);\n        this.resizeGLCanvas();\n    };\n\n    _class.prototype.clearCanvas = function clearCanvas() {\n        if (!this.canvas) {\n            return;\n        }\n        _maptalks$renderer$Im.prototype.clearCanvas.call(this);\n        this.clearGLCanvas();\n    };\n\n    _class.prototype.getCanvasImage = function getCanvasImage() {\n        if (this.glCanvas && this.isCanvasUpdated()) {\n            var ctx = this.context;\n            if (maptalks.Browser.retina) {\n                ctx.save();\n                ctx.scale(1 / 2, 1 / 2);\n            }\n\n            ctx.drawImage(this.glCanvas, 0, 0);\n            if (maptalks.Browser.retina) {\n                ctx.restore();\n            }\n        }\n        return _maptalks$renderer$Im.prototype.getCanvasImage.call(this);\n    };\n\n    _class.prototype.onRemove = function onRemove() {\n        this.removeGLCanvas();\n    };\n\n    return _class;\n}(maptalks.renderer.ImageGLRenderable(ImageCanvasRenderer)));\n\nvar QueryTask = function (_Task) {\n    inherits(QueryTask, _Task);\n\n    function QueryTask(service, params) {\n        classCallCheck(this, QueryTask);\n\n        var _this = possibleConstructorReturn(this, _Task.call(this, service, params));\n\n        _this._path = 'query';\n        return _this;\n    }\n\n    QueryTask.prototype.run = function run() {\n        return this.request('post', this._params);\n    };\n\n    createClass(QueryTask, [{\n        key: 'params',\n        set: function set$$1() {\n            var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n            this._params = merge({}, this._params, value);\n        }\n    }]);\n    return QueryTask;\n}(Task);\n\nvar FeaturesTask = function (_Task) {\n    inherits(FeaturesTask, _Task);\n\n    function FeaturesTask(service, params) {\n        classCallCheck(this, FeaturesTask);\n        return possibleConstructorReturn(this, _Task.call(this, service, params));\n    }\n\n    FeaturesTask.prototype.run = function run() {\n        return this.request('post', this._params);\n    };\n\n    createClass(FeaturesTask, [{\n        key: 'params',\n        set: function set$$1() {\n            var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n            this._params = merge({}, this._params, value);\n        }\n    }]);\n    return FeaturesTask;\n}(Task);\n\nvar FeatureService = function (_Service) {\n    inherits(FeatureService, _Service);\n\n    function FeatureService() {\n        classCallCheck(this, FeatureService);\n        return possibleConstructorReturn(this, _Service.apply(this, arguments));\n    }\n\n    FeatureService.prototype.metadata = function metadata() {\n        this._metadataTask = this._metadataTask || new MetadataTask(this);\n        return this._metadataTask.run();\n    };\n\n    FeatureService.prototype._QueryParams = function _QueryParams(option) {\n        var geometry = option.geometry || '';\n        var condition = {\n            where: option.where || '1=1',\n            geometry: geometry instanceof Object ? JSON.stringify(geometry) : geometry,\n            geometryType: option.geometryType || 'esriGeometryPoint',\n            inSR: option.inSR || '',\n            spatialRel: option.esriSpatialRelIntersects || 'esriSpatialRelIntersects',\n            relationParam: option.relationParam || '',\n            objectIds: option.objectIds || '',\n            time: option.time || '',\n            returnCountOnly: option.returnCountOnly || false,\n            returnGeometry: option.returnGeometry || true,\n            maxAllowableOffset: option.maxAllowableOffset || '',\n            outSR: option.outSR || '',\n            text: option.text || '',\n            outFields: option.outFields || '*'\n        };\n        return condition;\n    };\n\n    FeatureService.prototype._AddParams = function _AddParams(features) {\n        return {\n            features: features,\n            gdbVersion: '',\n            rollbackOnFailure: true,\n            f: 'pjson'\n        };\n    };\n\n    FeatureService.prototype._UpdateParams = function _UpdateParams(features) {\n        return {\n            features: features,\n            gdbVersion: '',\n            rollbackOnFailure: true,\n            f: 'pjson'\n        };\n    };\n\n    FeatureService.prototype._deleteParams = function _deleteParams(option) {\n        if (option.objectIds) {\n            return {\n                objectIds: option.objectIds,\n                f: 'pjson'\n            };\n        } else {\n            return {\n                where: option.where || '1=1',\n                geometry: geometry instanceof Object ? JSON.stringify(geometry) : geometry,\n                geometryType: option.geometryType || 'esriGeometryPoint',\n                inSR: option.inSR || '',\n                spatialRel: option.esriSpatialRelIntersects || 'esriSpatialRelIntersects',\n                f: 'pjson'\n            };\n        }\n    };\n\n    FeatureService.prototype.query = function query() {\n        var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        var params = this._QueryParams(option);\n        this._queryTask = this._queryTask || new QueryTask(this);\n        this._queryTask.params = params;\n        return this._queryTask.run();\n    };\n\n    FeatureService.prototype.addFeatures = function addFeatures(features) {\n        var params = this._AddParams(features);\n        this._FeaturesTask = this._FeaturesTask || new FeaturesTask(this);\n        this._FeaturesTask.params = params;\n        this._FeaturesTask._path = 'addFeatures';\n        return this._FeaturesTask.run();\n    };\n\n    FeatureService.prototype.updateFeatures = function updateFeatures(features) {\n        var params = this._UpdateParams(features);\n        this._FeaturesTask = this._FeaturesTask || new FeaturesTask(this);\n        this._FeaturesTask.params = params;\n        this._FeaturesTask._path = 'updateFeatures';\n        return this._FeaturesTask.run();\n    };\n\n    FeatureService.prototype.deleteFeatures = function deleteFeatures() {\n        var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        var params = this._deleteParams(option);\n        this._FeaturesTask = this._FeaturesTask || new FeaturesTask(this);\n        this._FeaturesTask.params = params;\n        this._FeaturesTask._path = 'deleteFeatures';\n        return this._FeaturesTask.run();\n    };\n\n    return FeatureService;\n}(Service);\n\nvar _options$2 = {\n    renderer: 'canvas'\n};\n\nvar FeatureLayer = function (_maptalks$VectorLayer) {\n    inherits(FeatureLayer, _maptalks$VectorLayer);\n\n    function FeatureLayer(id, url) {\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        classCallCheck(this, FeatureLayer);\n\n        var _this = possibleConstructorReturn(this, _maptalks$VectorLayer.call(this, id, options));\n\n        _this._options = merge({}, _options$2, options);\n        _this._url = url;\n        _this._service = new FeatureService(_this._url);\n        return _this;\n    }\n\n    FeatureLayer.prototype.onLoad = function onLoad() {\n        var _this2 = this;\n\n        if (this._cacheData) {\n            return true;\n        }\n        this._service.query(this._options).then(function (resp) {\n            var data = JSON.parse(resp);\n            _this2._cacheData = data;\n            var geos = _this2._createGeometries(data.features, data.geometryType);\n            _this2.load();\n            _this2.addGeometry(geos);\n            _this2.fire('loadend', { geometries: geos });\n        }, function (err) {\n            console.log(err);\n        });\n        return false;\n    };\n\n    FeatureLayer.prototype.query = function query(option, callback) {\n        this._service.query(option).then(function (resp) {\n            var result = JSON.parse(resp);\n            callback(result);\n        }, function (err) {\n            console.log(err);\n            callback(err);\n        });\n    };\n\n    FeatureLayer.prototype.addFeatures = function addFeatures(features, callback) {\n        this._service.addFeatures(features).then(function (resp) {\n            var result = JSON.parse(resp);\n            callback(result);\n        }, function (err) {\n            console.log(err);\n            callback(err);\n        });\n    };\n\n    FeatureLayer.prototype.updateFeatures = function updateFeatures(features, callback) {\n        this._service.updateFeatures(features).then(function (resp) {\n            var result = JSON.parse(resp);\n            callback(result);\n        }, function (err) {\n            console.log(err);\n            callback(err);\n        });\n    };\n\n    FeatureLayer.prototype.deleteFeatures = function deleteFeatures(option, callback) {\n        this._service.deleteFeatures(option).then(function (resp) {\n            var result = JSON.parse(resp);\n            callback(result);\n        }, function (err) {\n            console.log(err);\n            callback(err);\n        });\n    };\n\n    FeatureLayer.prototype._createGeometries = function _createGeometries(features, type) {\n        var geometries = null;\n        switch (type) {\n            case 'esriGeometryPoint':\n                geometries = this._createPoint(features);\n                break;\n            case 'esriGeometryPolyline':\n                geometries = this._createLineString(features);\n                break;\n            case 'esriGeometryPolygon':\n                geometries = this._createPolygon(features);\n                break;\n            default:\n                break;\n        }\n        return geometries;\n    };\n\n    FeatureLayer.prototype._createPoint = function _createPoint(features) {\n        var geometries = [];\n        var symbol = this._options.symbol || undefined;\n        features.forEach(function (feature) {\n            geometries.push(new maptalks.Marker(feature.geometry, {\n                symbol: symbol,\n                properties: feature.attributes\n            }));\n        }.bind(this));\n        return geometries;\n    };\n\n    FeatureLayer.prototype._createLineString = function _createLineString(features) {\n        var geometries = [];\n        var symbol = this._options.symbol || { lineColor: 'red' };\n        features.forEach(function (feature) {\n            geometries.push(new maptalks.MultiLineString(feature.geometry.paths, {\n                symbol: symbol,\n                properties: feature.attributes\n            }));\n        }.bind(this));\n        return geometries;\n    };\n\n    FeatureLayer.prototype._createPolygon = function _createPolygon(features) {\n        var geometries = [];\n        var symbol = this._options.symbol || { lineColor: 'red' };\n        features.forEach(function (feature) {\n            geometries.push(new maptalks.Polygon(feature.geometry.rings, {\n                symbol: symbol,\n                properties: feature.attributes\n            }));\n        }.bind(this));\n        return geometries;\n    };\n\n    return FeatureLayer;\n}(maptalks.VectorLayer);\n\n\n\nvar FeatureLayerRenderer = function (_maptalks$renderer$Ve) {\n    inherits(FeatureLayerRenderer, _maptalks$renderer$Ve);\n\n    function FeatureLayerRenderer() {\n        classCallCheck(this, FeatureLayerRenderer);\n        return possibleConstructorReturn(this, _maptalks$renderer$Ve.apply(this, arguments));\n    }\n\n    return FeatureLayerRenderer;\n}(maptalks.renderer.VectorLayerCanvasRenderer);\n\n\n\nFeatureLayer.registerRenderer('canvas', FeatureLayerRenderer);\n\nvar BufferTask = function (_Task) {\n    inherits(BufferTask, _Task);\n\n    function BufferTask(service, params) {\n        classCallCheck(this, BufferTask);\n\n        var _this = possibleConstructorReturn(this, _Task.call(this, service, params));\n\n        _this._path = 'buffer';\n        return _this;\n    }\n\n    BufferTask.prototype.run = function run() {\n        return this.request('post', this._params);\n    };\n\n    createClass(BufferTask, [{\n        key: 'params',\n        set: function set$$1() {\n            var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n            this._params = merge({}, this._params, value);\n        }\n    }]);\n    return BufferTask;\n}(Task);\n\nvar GeometryService = function (_Service) {\n    inherits(GeometryService, _Service);\n\n    function GeometryService() {\n        classCallCheck(this, GeometryService);\n        return possibleConstructorReturn(this, _Service.apply(this, arguments));\n    }\n\n    GeometryService.prototype.metadata = function metadata() {\n        this._metadataTask = this._metadataTask || new MetadataTask(this);\n        return this._metadataTask.run();\n    };\n\n    GeometryService.prototype._BufferParams = function _BufferParams(options) {\n        return {\n            geometries: options.geometries,\n            inSR: options.inSR || 4326,\n            outSR: options.outSR || 4326,\n            bufferSR: options.bufferSR || 4326,\n            distances: options.distances || 0.0001,\n            unit: options.unit || 9102,\n            unionResults: options.unionResults || true,\n            geodesic: options.geodesic || false,\n            f: 'pjson'\n        };\n    };\n\n    GeometryService.prototype.buffer = function buffer(options) {\n        var params = this._BufferParams(options);\n        this._BufferTask = this._BufferTask || new BufferTask(this);\n        this._BufferTask.params = params;\n        return this._BufferTask.run();\n    };\n\n    return GeometryService;\n}(Service);\n\nvar esri = {\n    ImageMapLayer: ImageMapLayer,\n    FeatureLayer: FeatureLayer,\n    GeometryService: GeometryService\n};\n\nexports.esri = esri;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\ntypeof console !== 'undefined' && console.log('maptalks.esri v0.0.1');\n\n})));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/maptalks.esri/dist/maptalks.esri.js\n// module id = YwH3\n// module chunks = 4","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = mvHQ\n// module chunks = 4","<template>\n    <div class=\"mapinfowin\">\n            <div class=\"head\">${attri.type}<div class=\"close\">X</div></div>\n            <div class=\"main\">\n                <div class=\"left\">\n                    <div class=\"title\">人口总数</div>\n                    <div class=\"number\">38410</div>\n                    <div class=\"title\">诉求数</div>\n                    <div class=\"number\">379</div>\n                </div>\n                <div class=\"left\">\n                    <div class=\"title\">万人投诉率</div>\n                    <div class=\"number\">11.23%</div>\n                    <div class=\"title\">主要投诉</div>\n                    <div class=\"number\">噪音污染</div>\n                </div>\n            </div>\n        </div>\n</template>\n\n<script>\nexport default {\n    \n}\n</script>\n\n<style lang=\"scss\" scoped>\n.mapinfowin {\n    width: 250px;\n    .head {\n      background-color: #da4e63;\n      opacity: 0.9;\n      height: 30px;\n      font-size: 18px;\n      color: #ffffff;\n      padding-left: 8px;\n      line-height: 30px;\n      .close {\n        float: right;\n        padding-right: 10px;\n        &:hover {\n          cursor: pointer;\n        }\n      }\n    }\n    .main {\n      background-color: #fcad3c;\n      display: flex;\n      .left {\n        width: 50%;\n        padding: 10px 20px;\n        .title {\n          height: 25px;\n          text-align: center;\n          font-size: 14px;\n          color: #ffffff;\n        }\n        .number {\n          background-color: #a47128;\n          border-radius: 6px;\n          height: 30px;\n          border: solid 1px #ffffff;\n          font-size: 18px;\n          color: #fffffe;\n          text-align: center;\n          line-height: 30px;\n        }\n      }\n    }\n  }\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/map/maptalks/components/mapinfowin.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mapinfowin\"},[_c('div',{staticClass:\"head\"},[_vm._v(\"${attri.type}\"),_c('div',{staticClass:\"close\"},[_vm._v(\"X\")])]),_vm._v(\" \"),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"人口总数\")]),_vm._v(\" \"),_c('div',{staticClass:\"number\"},[_vm._v(\"38410\")]),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(\"诉求数\")]),_vm._v(\" \"),_c('div',{staticClass:\"number\"},[_vm._v(\"379\")])]),_vm._v(\" \"),_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"万人投诉率\")]),_vm._v(\" \"),_c('div',{staticClass:\"number\"},[_vm._v(\"11.23%\")]),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(\"主要投诉\")]),_vm._v(\" \"),_c('div',{staticClass:\"number\"},[_vm._v(\"噪音污染\")])])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-71724554\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/map/maptalks/components/mapinfowin.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-71724554\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./mapinfowin.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./mapinfowin.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./mapinfowin.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-71724554\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./mapinfowin.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-71724554\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/map/maptalks/components/mapinfowin.vue\n// module id = null\n// module chunks = ","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/json/stringify.js\n// module id = qkKv\n// module chunks = 4","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map\",attrs:{\"id\":\"map\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-417b23f8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/map/maptalks/wfs.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-417b23f8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./wfs.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./wfs.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./wfs.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-417b23f8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./wfs.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/map/maptalks/wfs.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}